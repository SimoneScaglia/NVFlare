DEFAULT_ITER = 5

# splits_exp = {
#     2: [(2.5, 97.5), (5, 95), (10, 90), (20, 80), (30, 70), (40, 60), (50, 50), (60, 40), (70, 30), (80, 20), (90, 10)],
#     3: [(2.5, 48.75, 48.75), (5, 47.5, 47.5), (10, 45, 45), (20, 40, 40), (30, 35, 35), (40, 30, 30), (50, 25, 25), (60, 20, 20), (70, 15, 15), (80, 10, 10), (90, 5, 5)],
#     4: [(2.5, 32.5, 32.5, 32.5), (5, 31.66, 31.66, 31.66), (10, 30, 30, 30), (20, 26.66, 26.66, 26.66), (30, 23.33, 23.33, 23.33), (40, 20, 20, 20), (50, 16.66, 16.66, 16.66), (60, 13.33, 13.33, 13.33), (70, 10, 10, 10), (80, 6.66, 6.66, 6.66), (90, 3.33, 3.33, 3.33)],
#     5: [(2.5, 24.375, 24.375, 24.375, 24.375), (5, 23.75, 23.75, 23.75, 23.75), (10, 22.5, 22.5, 22.5, 22.5), (20, 20, 20, 20, 20), (30, 17.5, 17.5, 17.5, 17.5), (40, 15, 15, 15, 15), (50, 12.5, 12.5, 12.5, 12.5), (60, 10, 10, 10, 10), (70, 7.5, 7.5, 7.5, 7.5), (80, 5, 5, 5, 5), (90, 2.5, 2.5, 2.5, 2.5)]
# }

splits_exp = {
    3: [(30, 35, 35), (40, 30, 30), (50, 25, 25)],
}

with open('run.sh', 'w') as f:
    for num_site in sorted(splits_exp.keys()):
        for split in splits_exp[num_site]:
            decimals = [x/100 for x in split]
            for _ in range(DEFAULT_ITER):
                command = f"./start_exp.sh {num_site} {' '.join(map(str, decimals))}\n"
                f.write(command)